<div class="row justify-content-center">
  <div class="col-sm-9">
    <nav class="navbar navbar-expand-sm navbar-light bg-white">
      <span class="navbar-brand"><%= @tenant.legacy.name %></span>

      <ul class="navbar-nav mr-auto">
      </ul>
      <span class="navbar-text">
        <%= link_to 'Edit', edit_tenant_path(@tenant), class: 'btn btn-warning' %>
      </span>
    </nav>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-sm-5">
    <dl class="row">
      <dt class="col-sm-4">Tenant Slug</dt>
      <dd class="col-sm-8"><%= @tenant.slug %></dd>
    </dl>
    <dl class="row">
      <dt class="col-sm-4">Domains</dt>
      <dd class="col-sm-8">
        <ul>
          <% @tenant.domains.each do |domain| %>
            <li><%= domain.domain %> <%= domain.default? ? '(default)' : '' %></li>
          <% end %>
        </ul>
      </dd>
    </dl>
  </div>

  <div class="col-sm-5">
    <strong>Scope</strong>
    <div id="jsoneditor" data-json="<%= @render_scope.to_json %>"></div>
  </div>
</div>

<script type="text/javascript">
  var container = document.getElementById('jsoneditor');
  var options = {
    name: 'scope',
    mode: 'view',
    modes: ['view'],
    onChangeText: function(jsonString) { document.getElementById('tenant_scope').value = jsonString }
  };
  var editor = new JSONEditor(container, options, JSON.parse(container.getAttribute('data-json')));
  // editor.expandAll()
</script>
