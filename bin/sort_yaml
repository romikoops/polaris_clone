#!/usr/bin/env ruby

require 'yaml'

# Set up coloring
def red(msg)
  "\033[0;31m#{msg}\033[0m"
end

def green(msg)
  "\033[0;32m#{msg}\033[0m"
end

def yellow(msg)
  "\033[0;33m#{msg}\033[0m"
end

config_files = [
  File.expand_path('../.rubocop.yml', __dir__),
  File.expand_path('../config/settings.yml', __dir__),
  Dir.glob(File.expand_path('../config/settings/*.yml', __dir__))
].flatten

config_files.each do |file|
  puts yellow("#{file}:")
  rules = YAML.load_file(file)

  rules.keys.zip(rules.keys.sort).each do |(a, b)|
    if a == b
      puts a
    else
      puts red(a)
      puts green(b)
    end
  end
end
