digraph G {
  compound=true;
  subgraph cluster0 {
    app [shape=box];
  }
  subgraph cluster1 {
    label = "core";
    "core" [shape=ellipse];
  };
  subgraph cluster2 {
    label = "services";
    "profiles" [shape=ellipse];
    "profiles" -> "core" [color=grey];
    "tenants" [shape=ellipse];
    "tenants" -> "core" [color=grey];
    "tenants" -> "legacy" [color=grey];
    "tenants" -> "mailers" [color=grey];
    "tenants" -> "profiles" [color=grey];
    "cargo" [shape=ellipse];
    "cargo" -> "core" [color=grey];
    "cargo" -> "tenants" [color=grey];
    "quotations" [shape=ellipse];
    "quotations" -> "cargo" [color=grey];
    "quotations" -> "core" [color=grey];
    "quotations" -> "legacy" [color=grey];
    "quotations" -> "tenants" [color=grey];
    "locations" [shape=ellipse];
    "locations" -> "core" [color=grey];
    "trucking" [shape=ellipse];
    "trucking" -> "core" [color=grey];
    "trucking" -> "legacy" [color=grey];
    "trucking" -> "locations" [color=grey];
    "trucking" -> "tenants" [color=grey];
    "pricings" [shape=ellipse];
    "pricings" -> "core" [color=grey];
    "pricings" -> "legacy" [color=grey];
    "pricings" -> "tenants" [color=grey];
    "pricings" -> "trucking" [color=grey];
    "shipments" [shape=ellipse];
    "shipments" -> "address_book" [color=grey];
    "shipments" -> "cargo" [color=grey];
    "shipments" -> "core" [color=grey];
    "shipments" -> "quotations" [color=grey];
    "shipments" -> "routing" [color=grey];
    "shipments" -> "sequential" [color=grey];
    "shipments" -> "tenants" [color=grey];
    "offer_calculator" [shape=ellipse];
    "offer_calculator" -> "core" [color=grey];
    "offer_calculator" -> "legacy" [color=grey];
    "offer_calculator" -> "pricings" [color=grey];
    "offer_calculator" -> "quotations" [color=grey];
    "offer_calculator" -> "result_formatter" [color=grey];
    "offer_calculator" -> "tenants" [color=grey];
    "offer_calculator" -> "trucking" [color=grey];
    "wheelhouse" [shape=ellipse];
    "wheelhouse" -> "cargo" [color=grey];
    "wheelhouse" -> "core" [color=grey];
    "wheelhouse" -> "legacy" [color=grey];
    "wheelhouse" -> "offer_calculator" [color=grey];
    "wheelhouse" -> "pdf" [color=grey];
    "wheelhouse" -> "tenants" [color=grey];
    "federation" [shape=ellipse];
    "federation" -> "core" [color=grey];
    "federation" -> "tenants" [color=grey];
    "helmsman" [shape=ellipse];
    "helmsman" -> "core" [color=grey];
    "helmsman" -> "federation" [color=grey];
    "helmsman" -> "ledger" [color=grey];
    "helmsman" -> "routing" [color=grey];
    "helmsman" -> "tenant_routing" [color=grey];
    "helmsman" -> "tenants" [color=grey];
    "integrations" [shape=ellipse];
    "integrations" -> "core" [color=grey];
    "integrations" -> "legacy" [color=grey];
    "integrations" -> "profiles" [color=grey];
    "integrations" -> "shipments" [color=grey];
    "rms_export" [shape=ellipse];
    "rms_export" -> "core" [color=grey];
    "rms_export" -> "routing" [color=grey];
    "rms_sync" [shape=ellipse];
    "rms_sync" -> "core" [color=grey];
    "rms_sync" -> "legacy" [color=grey];
    "rms_sync" -> "pricings" [color=grey];
    "rms_sync" -> "rms_data" [color=grey];
    "rms_sync" -> "routing" [color=grey];
    "rms_sync" -> "tenants" [color=grey];
    "validator" [shape=ellipse];
    "validator" -> "core" [color=grey];
    "validator" -> "legacy" [color=grey];
    "validator" -> "pricings" [color=grey];
    "validator" -> "tenants" [color=grey];
    "validator" -> "trucking" [color=grey];
  };
  subgraph cluster3 {
    label = "data";
    "legacy" [shape=ellipse];
    "legacy" -> "core" [color=grey];
    "legacy" -> "profiles" [color=grey];
    "address_book" [shape=ellipse];
    "address_book" -> "core" [color=grey];
    "address_book" -> "tenants" [color=grey];
    "routing" [shape=ellipse];
    "routing" -> "core" [color=grey];
    "routing" -> "legacy" [color=grey];
    "sequential" [shape=ellipse];
    "sequential" -> "core" [color=grey];
    "tenant_routing" [shape=ellipse];
    "tenant_routing" -> "core" [color=grey];
    "tenant_routing" -> "routing" [color=grey];
    "tenant_routing" -> "tenants" [color=grey];
    "ledger" [shape=ellipse];
    "ledger" -> "cargo" [color=grey];
    "ledger" -> "core" [color=grey];
    "ledger" -> "routing" [color=grey];
    "ledger" -> "tenant_routing" [color=grey];
    "ledger" -> "tenants" [color=grey];
    "rates" [shape=ellipse];
    "rates" -> "cargo" [color=grey];
    "rates" -> "routing" [color=grey];
    "rms_data" [shape=ellipse];
    "rms_data" -> "core" [color=grey];
    "rms_data" -> "tenants" [color=grey];
  };
  subgraph cluster4 {
    label = "view";
    "mailers" [shape=ellipse];
    "mailers" -> "core" [color=grey];
    "admiralty_assets" [shape=ellipse];
    "admiralty_assets" -> "core" [color=grey];
    "admiralty_auth" [shape=ellipse];
    "admiralty_auth" -> "admiralty_assets" [color=grey];
    "admiralty_auth" -> "core" [color=grey];
    "admiralty_reports" [shape=ellipse];
    "admiralty_reports" -> "admiralty_assets" [color=grey];
    "admiralty_reports" -> "admiralty_auth" [color=grey];
    "admiralty_reports" -> "core" [color=grey];
    "admiralty_reports" -> "quotations" [color=grey];
    "admiralty_reports" -> "tenants" [color=grey];
    "admiralty_tenants" [shape=ellipse];
    "admiralty_tenants" -> "admiralty_assets" [color=grey];
    "admiralty_tenants" -> "admiralty_auth" [color=grey];
    "admiralty_tenants" -> "core" [color=grey];
    "admiralty_tenants" -> "legacy" [color=grey];
    "admiralty_tenants" -> "pricings" [color=grey];
    "admiralty_tenants" -> "tenants" [color=grey];
    "admiralty" [shape=ellipse];
    app -> "admiralty"
    "admiralty" -> "admiralty_assets" [color=grey];
    "admiralty" -> "admiralty_auth" [color=grey];
    "admiralty" -> "admiralty_reports" [color=grey];
    "admiralty" -> "admiralty_tenants" [color=grey];
    "admiralty" -> "core" [color=grey];
    "admiralty" -> "legacy" [color=grey];
    "admiralty" -> "quotations" [color=grey];
    "admiralty" -> "shipments" [color=grey];
    "admiralty" -> "tenants" [color=grey];
    "api_auth" [shape=ellipse];
    "api_auth" -> "core" [color=grey];
    "api_auth" -> "tenants" [color=grey];
    "api" [shape=ellipse];
    app -> "api"
    "api" -> "analytics" [color=grey];
    "api" -> "api_auth" [color=grey];
    "api" -> "cargo" [color=grey];
    "api" -> "core" [color=grey];
    "api" -> "profiles" [color=grey];
    "api" -> "result_formatter" [color=grey];
    "api" -> "tenants" [color=grey];
    "api" -> "trucking" [color=grey];
    "api" -> "wheelhouse" [color=grey];
  };
  subgraph cluster5 {
    label = "service";
    "analytics" [shape=ellipse];
    "analytics" -> "legacy" [color=grey];
    "analytics" -> "pricings" [color=grey];
    "analytics" -> "quotations" [color=grey];
    "analytics" -> "shipments" [color=grey];
    "analytics" -> "tenants" [color=grey];
    "result_formatter" [shape=ellipse];
    "result_formatter" -> "legacy" [color=grey];
    "result_formatter" -> "pricings" [color=grey];
    "result_formatter" -> "quotations" [color=grey];
    "pdf" [shape=ellipse];
    "pdf" -> "core" [color=grey];
    "pdf" -> "legacy" [color=grey];
    "pdf" -> "pricings" [color=grey];
    "pdf" -> "profiles" [color=grey];
    "pdf" -> "quotations" [color=grey];
    "pdf" -> "result_formatter" [color=grey];
    "pdf" -> "tenants" [color=grey];
    "rate_extractor" [shape=ellipse];
    "rate_extractor" -> "cargo" [color=grey];
    "rate_extractor" -> "quotations" [color=grey];
    "rate_extractor" -> "rates" [color=grey];
    "rate_extractor" -> "routing" [color=grey];
    "rate_extractor" -> "tenant_routing" [color=grey];
    "tender_calculator" [shape=ellipse];
    "tender_calculator" -> "cargo" [color=grey];
    "tender_calculator" -> "rate_extractor" [color=grey];
    "tender_calculator" -> "rates" [color=grey];
    "tender_calculator" -> "tenant_routing" [color=grey];
  };
}
