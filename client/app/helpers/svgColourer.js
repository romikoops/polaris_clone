function isIE () {
  return navigator.userAgent.indexOf('MSIE') !== -1 || !!document.documentMode === true
}

function getIcons () {
  const icons = {
    address:
      '<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="0%" y1="50%" x2="96.8365779%" y2="50%" id="linearGradient-1"><stop stop-color="##color1##" offset="0%"></stop><stop stop-color="##color2##" offset="100%"></stop></linearGradient></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="status-leiste-2" transform="translate(-24.000000, -226.000000)" fill="url(#linearGradient-1)"><g id="status-leiste" transform="translate(9.000000, 68.000000)"><g id="ocean" transform="translate(15.000000, 157.000000)"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/><path d="M0 0h24v24H0z" fill="none"/></g></g></g></g></svg>',
    flag:
      '<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="0%" y1="50%" x2="96.8365779%" y2="50%" id="linearGradient-1"><stop stop-color="##color1##" offset="0%"></stop><stop stop-color="##color2##" offset="100%"></stop></linearGradient></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="status-leiste-2" transform="translate(-24.000000, -226.000000)" fill="url(#linearGradient-1)"><g id="status-leiste" transform="translate(9.000000, 68.000000)"><g id="ocean" transform="translate(15.000000, 157.000000)"><path d="M0 0h24v24H0z" fill="none"/><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/></g></g></g></g></svg>',
    account:
      '<svg width="19px" height="20px" viewBox="0 0 19 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>User - simple-line-icons</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="logged-in" transform="translate(-1493.000000, -56.000000)" fill="###fill###"><g id="sign-conto" transform="translate(1453.000000, 56.000000)"><g id="sign-out"><path d="M49.5,1.375 C48.992836,1.375 48.4918645,1.47086493 47.9970703,1.66259766 C47.5022762,1.85433039 47.0569681,2.09863133 46.6611328,2.39550781 C46.2652975,2.6923843 45.9467785,3.01399566 45.7055664,3.36035156 C45.4643543,3.70670746 45.34375,4.03450366 45.34375,4.34375 L45.34375,7.3125 C45.34375,7.89388312 45.4890936,8.63606319 45.7797852,9.5390625 C46.0704767,10.4420618 46.525062,11.140948 47.1435547,11.6357422 C47.3043628,11.7594407 47.424967,11.917154 47.5053711,12.1088867 C47.5857751,12.3006194 47.6136069,12.5016266 47.5888672,12.7119141 C47.5517576,12.9098317 47.4744472,13.0922843 47.3569336,13.2592773 C47.23942,13.4262704 47.0878916,13.5530595 46.9023438,13.6396484 L41.6884766,16.1074219 C41.6142574,16.1321616 41.5122077,16.1909175 41.3823242,16.2836914 C41.2524408,16.3764653 41.1875,16.5465482 41.1875,16.7939453 L41.1875,18 L57.7939453,17.9814453 L57.7939453,16.8310547 C57.7939453,16.5094385 57.7166349,16.3084314 57.5620117,16.2280273 C57.4073885,16.1476233 57.3238933,16.1074219 57.3115234,16.1074219 L52.1347656,13.6582031 C51.9492178,13.5716142 51.794597,13.4448251 51.6708984,13.277832 C51.5471999,13.110839 51.4729819,12.9222016 51.4482422,12.7119141 C51.4235025,12.5016266 51.4513342,12.3006194 51.5317383,12.1088867 C51.6121423,11.917154 51.7327466,11.7594407 51.8935547,11.6357422 C52.5367871,11.140948 52.9913724,10.4389694 53.2573242,9.52978516 C53.5232761,8.62060092 53.65625,7.88151326 53.65625,7.3125 L53.65625,4.34375 C53.65625,4.02213381 53.5325533,3.68815277 53.2851562,3.34179688 C53.0377592,2.99544098 52.7192402,2.67692203 52.3295898,2.38623047 C51.9399395,2.09553891 51.4946314,1.85433039 50.9936523,1.66259766 C50.4926733,1.47086493 49.9947941,1.375 49.5,1.375 Z M49.5,0.1875 C50.1556022,0.1875 50.8019174,0.31119668 51.4389648,0.55859375 C52.0760123,0.80599082 52.645017,1.12760219 53.1459961,1.5234375 C53.6469752,1.91927281 54.0551742,2.36458086 54.3706055,2.859375 C54.6860367,3.35416914 54.84375,3.84895586 54.84375,4.34375 L54.84375,7.3125 C54.84375,7.67122575 54.806641,8.08560963 54.7324219,8.55566406 C54.6582028,9.0257185 54.5345061,9.50504313 54.3613281,9.99365234 C54.1881502,10.4822616 53.9593113,10.9523089 53.6748047,11.4038086 C53.3902981,11.8553082 53.0439474,12.2418604 52.6357422,12.5634766 L57.8125,15.03125 L58.3969727,15.355957 C58.786623,15.5724295 58.9814453,15.8538394 58.9814453,16.2001953 L58.9814453,18 C58.9814453,18.3216162 58.8670259,18.5968413 58.6381836,18.8256836 C58.4093413,19.0545259 58.1341162,19.1689453 57.8125,19.1689453 L41.1875,19.1689453 C40.853514,19.1689453 40.572104,19.0545259 40.3432617,18.8256836 C40.1144194,18.5968413 40,18.3216162 40,18 L40,16.2001953 C40,15.8785791 40.1979147,15.603354 40.59375,15.3745117 L41.1875,15.03125 L46.4013672,12.5634766 C45.9807922,12.2294905 45.6282566,11.8274763 45.34375,11.3574219 C45.0592434,10.8873674 44.8273121,10.4080428 44.6479492,9.91943359 C44.4685863,9.43082438 44.3417972,8.95459216 44.2675781,8.49072266 C44.193359,8.02685315 44.15625,7.63411619 44.15625,7.3125 L44.15625,4.34375 C44.15625,3.84895586 44.3108708,3.35416914 44.6201172,2.859375 C44.9293635,2.36458086 45.3344702,1.91927281 45.8354492,1.5234375 C46.3364283,1.12760219 46.9085254,0.80599082 47.5517578,0.55859375 C48.1949902,0.31119668 48.8443978,0.1875 49.5,0.1875 Z" id="User---simple-line-icons"></path></g></g></g></g></svg>'
  }
  const ieIcons = {
    address:
      '<svg fill="##color1##" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',
    flag:
      '<svg fill="##color1##" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/></svg>',
    account: icons.account
  }

  return isIE() ? ieIcons : icons
}

export const colorSVG = (icon, theme) => {
  const color1 = theme.colors.primary
  const color2 = theme.colors.secondary
  const icons = getIcons()

  if (!icons[icon]) return ''

  const iconStr = icons[icon].replace('##color1##', color1).replace('##color2##', color2)

  return `data:image/svg+xml;charset=utf-8,${encodeURIComponent(iconStr)}`
}

export const accountIconColor = (color) => {
  const icons = getIcons()
  const newIconStr = icons.account.replace('###fill###', color)

  return `data:image/svg+xml;charset=utf-8,${encodeURIComponent(newIconStr)}`
}
